{"version":3,"sources":["shared/components/slider/slider.tsx","screens/categories/screen.tsx","screens/categories/index.ts","services/api/utils.ts","services/api/api.ts","services/news/api.ts","services/api/index.ts","shared/components/news-card/news-card.tsx","shared/components/news-card/index.ts"],"names":["Arrow","props","style","backgroundColor","border","borderRadius","settings","dots","infinite","speed","slidesToShow","draggable","slidesToScroll","centerPadding","nextArrow","prevArrow","responsive","breakpoint","initialSlide","Slider","items","category","code","useParams","React","useState","isOpened","setOpened","onToggle","useCallback","p","className","onClick","size","map","item","index","key","to","pathname","source","id","state","categories","getCategories","a","async","promises","newsApi","fetch","country","pageSize","Promise","all","Screen","useAsync","loading","value","handleResponseErrors","error","reject","status","statusText","response","data","handleRequestConfig","config","params","process","Api","api","request","url","method","undefined","this","axios","create","baseURL","headers","Accept","timeout","interceptors","use","News","apiPath","payload","articles","NewsCard","title","description","urlToImage","content","height","src","alt"],"mappings":"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","file":"static/js/8.333826fe.chunk.js","sourcesContent":["import React, {FunctionComponent} from 'react'\nimport {Link, useParams} from 'react-router-dom'\nimport ReactSlider from \"react-slick\";\nimport NewsCard from \"../news-card\";\nimport {INews} from 'services/news'\nimport {MdExpandLess, MdExpandMore} from 'react-icons/md'\nimport {Collapse} from 'react-collapse'\n\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\n\n\nconst Arrow = (props: any) => {\n    return (\n        <div {...props} style={{backgroundColor: '#37b2ab', border: '1px solid #fff', borderRadius: '100%'}}/>\n    );\n}\n\n\nconst settings = {\n    dots: false,\n    infinite: false,\n    speed: 500,\n    slidesToShow: 3,\n    draggable: false,\n    slidesToScroll: 1,\n    centerPadding: '100px',\n    nextArrow: <Arrow/>,\n    prevArrow: <Arrow/>,\n    // centerMode: true,\n    responsive: [\n        {\n            breakpoint: 1024,\n            settings: {\n                slidesToShow: 3,\n                slidesToScroll: 3,\n                infinite: true,\n                dots: true\n            }\n        },\n        {\n            breakpoint: 600,\n            settings: {\n                slidesToShow: 2,\n                slidesToScroll: 2,\n                initialSlide: 2\n            }\n        },\n        {\n            breakpoint: 480,\n            settings: {\n                slidesToShow: 1,\n                slidesToScroll: 1\n            }\n        }\n    ]\n};\n\ninterface ISlider {\n    items: INews[],\n    category: string\n\n}\n\n\nconst Slider: FunctionComponent<ISlider> = ({items, category}) => {\n    const {code} = useParams()\n    const [isOpened, setOpened] = React.useState(true)\n    const onToggle = React.useCallback(() => setOpened(p => !p), [setOpened])\n\n    return <section>\n        <header className='inline-flex items-center'>\n            <h1 className='text-2xl capitalize my-5 inline-flex items-center'>{category} </h1>\n            <button onClick={onToggle}\n                    className='ml-2 hover:bg-teal-400 text-base font-bold py-4 px-4 rounded-full focus:outline-none text-lg'>\n                {isOpened ? <MdExpandLess size={24}/> : <MdExpandMore size={24}/>}\n            </button>\n        </header>\n        <Collapse isOpened={isOpened}>\n            <ReactSlider {...settings}>\n                {items.map((item, index) => <div key={index} className='h-full p-2'>\n                    <Link to={{\n                        pathname: `/${code}/news/${item.source.id}`,\n                        state: item\n                    }\n                    } className=\"cursor-pointer\">\n                        <NewsCard {...item}/>\n                    </Link>\n                </div>)}\n            </ReactSlider>\n        </Collapse>\n    </section>\n}\n\nexport default Slider;\n","import React from 'react'\nimport {useParams} from \"react-router\";\nimport {useAsync} from \"react-use\";\nimport newsApi from \"services/news/api\";\nimport Slider from \"shared/components/slider\";\nimport Loader from \"shared/components/loader\";\n\nconst categories = ['business', 'entertainment', 'general', 'health', 'science', 'sports', 'technology']\nconst PAGE_SIZE = 5;\nconst getCategories = async (code: any) => {\n    const promises = categories.map((category: any) => newsApi.fetch({category, country: code, pageSize: PAGE_SIZE}))\n    return Promise.all(promises)\n}\n\nconst Screen = () => {\n\n    const {code} = useParams()\n    const state = useAsync(async () => {\n        return await getCategories(code);\n    }, [code]);\n\n    return <div className='mb-5 sm:px-1 md:px-12'>\n        <h1 className='sm:text-center md:text-left text-2xl'>Top 5 news by categories from <span\n            className='uppercase'>{code}</span></h1>\n        <div className='border-1 rounded'>\n            {state.loading ? <Loader/> : state.value && state.value.map((items, index) => <Slider key={index}\n                                                                                                  items={items}\n                                                                                                  category={categories[index]}/>)}\n        </div>\n    </div>\n}\n\nexport default Screen;\n","export {default} from './screen'\n","import {AxiosError, AxiosRequestConfig} from 'axios';\nimport {IResponseError} from './types';\n\nexport const handleResponseErrors = (error: AxiosError): Promise<IResponseError> => {\n    if (error.code === 'ECONNABORTED') {\n        return Promise.reject({\n            status: 408,\n            statusText: 'Timeout request',\n        });\n    }\n    return Promise.reject({\n        status: error.response ? error.response.status : 500,\n        statusText: error.response ? error.response.statusText : 'Network Error',\n        ...(error.response && error.response.data ? error.response.data : {}),\n    });\n};\n\n/**\n * @description modify request config each time\n *\n * @param {*} config\n */\nexport const handleRequestConfig = async (\n    config: AxiosRequestConfig,\n): Promise<AxiosRequestConfig> => {\n    return {\n        ...config,\n        params: {\n            ...config.params,\n            'apiKey': process.env.REACT_APP_API_KEY,\n        },\n    };\n};\n\n","import axios, {AxiosInstance, AxiosRequestConfig, AxiosResponse, Method} from 'axios';\n\nimport {Omit} from '../../interfaces';\n\nimport {handleRequestConfig, handleResponseErrors} from './utils';\n\nconst TIMEOUT = 5000;\n\n\nexport default class Api {\n    protected api: AxiosInstance;\n\n    constructor() {\n        this.api = axios.create({\n            baseURL: process.env.REACT_APP_API_URL,\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n            },\n            timeout: TIMEOUT,\n        });\n\n        this.api.interceptors.response.use(undefined, handleResponseErrors);\n        this.api.interceptors.request.use(handleRequestConfig);\n    }\n\n    protected request = async <T>(\n        url: string,\n        method: Method = 'GET',\n        data: object | undefined = undefined,\n        params: object | undefined = undefined,\n        config?: Omit<AxiosRequestConfig, 'url' | 'method' | 'data' | 'params' | 'transformResponse'>,\n    ): Promise<T> => {\n        const response = await this.api.request<T, AxiosResponse>({\n            data,\n            method,\n            params,\n            url,\n            ...config,\n        });\n\n        return response.data;\n    };\n\n}\n","import Api from './../api'\nimport {INews, INewsResponse, IPayload} from './types'\n\n\nclass News extends Api {\n    private apiPath: string = '/top-headlines'\n\n    public fetch = async (payload: IPayload): Promise<INews[]> => {\n        const data = await this.request<INewsResponse>(this.apiPath, 'get', undefined, payload);\n        return data.articles\n    }\n}\n\n\nexport default new News()\n","export {default} from './api'\n\nexport * from './types';\n","import React, {FunctionComponent} from 'react'\nimport {INews} from 'services/news'\nimport {Link, useParams} from 'react-router-dom'\n\n\nconst NewsCard: FunctionComponent<INews> = ({title, description, urlToImage, source, content}) => {\n    const {code} = useParams()\n    return <div className=\"max-w-sm rounded overflow-hidden shadow-lg min-h-full flex flex-col justify-between\">\n        <img className=\"w-full h-64 object-cover\" height={200}\n             src={urlToImage || 'http://www.geographicexperiences.com/wp-content/uploads/revslider/home5/placeholder-1200x500.png'}\n             alt={title}/>\n        <div className=\"px-6 py-4\">\n            <div className=\"font-bold mb-2 h-32 sm:text-sm md:text-base overflow-y-hidden\">{title}</div>\n            <p className=\"text-gray-700 text-base overflow-hidden h-32\">\n                {description}\n            </p>\n        </div>\n        <div className=\"px-6 py-4 flex flex-row-reverse\">\n            <Link to={{\n                pathname: `/${code}/news/${source.id}`,\n                state: {\n                    title,\n                    urlToImage,\n                    content\n                }\n            }\n            } className=\"cursor-pointer\">\n            <span\n                className=\"block bg-gray-200 rounded-full px-8 py-4 text-sm font-semibold text-gray-700 hover:bg-gray-500\">More</span>\n            </Link>\n        </div>\n    </div>\n}\n\n\nexport default NewsCard\n","export {default} from './news-card'\n"],"sourceRoot":""}