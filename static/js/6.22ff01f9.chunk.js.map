{"version":3,"sources":["screens/home/screen.tsx","screens/home/index.ts","services/api/utils.ts","services/api/api.ts","services/news/api.ts","services/api/index.ts","shared/components/news-card/news-card.tsx","shared/components/news-card/index.ts","services/news/index.ts","shared/components/news-list/news-list.tsx","shared/components/news-list/index.ts","../node_modules/react-use/esm/useAsync.js"],"names":["HomeScreen","code","useParams","state","useAsync","a","async","newsApi","fetch","country","className","loading","items","value","handleResponseErrors","error","Promise","reject","status","statusText","response","data","handleRequestConfig","config","params","process","REACT_APP_API_KEY","Api","api","request","url","method","undefined","this","axios","create","baseURL","headers","Accept","timeout","interceptors","use","News","apiPath","payload","articles","NewsCard","title","description","urlToImage","source","content","height","src","alt","to","pathname","id","NewsList","map","item","index","key","fn","deps","_a","callback"],"mappings":"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","file":"static/js/6.22ff01f9.chunk.js","sourcesContent":["import React, {Fragment} from 'react'\nimport NewsList from \"shared/components/news-list\";\nimport {useParams} from 'react-router-dom'\nimport {useAsync} from \"react-use\";\nimport newsApi from 'services/news'\nimport Loader from 'shared/components/loader'\n\n\nconst HomeScreen = () => {\n    const {code} = useParams()\n    const state = useAsync(async () => {\n        return await newsApi.fetch({\n            country: code\n        });\n    }, [code]);\n\n    return <Fragment>\n        <h1 className='text-base text-3xl capitalize p-2'>Top news\n            from {code === 'us' ? 'United States' : 'Great Britain'}</h1>\n        {state.loading ? <Loader/> : <NewsList items={state.value || []}/>}\n    </Fragment>\n}\n\n\nexport default HomeScreen\n","export {default} from './screen'\n","import {AxiosError, AxiosRequestConfig} from 'axios';\nimport {IResponseError} from './types';\n\nexport const handleResponseErrors = (error: AxiosError): Promise<IResponseError> => {\n    if (error.code === 'ECONNABORTED') {\n        return Promise.reject({\n            status: 408,\n            statusText: 'Timeout request',\n        });\n    }\n    return Promise.reject({\n        status: error.response ? error.response.status : 500,\n        statusText: error.response ? error.response.statusText : 'Network Error',\n        ...(error.response && error.response.data ? error.response.data : {}),\n    });\n};\n\n/**\n * @description modify request config each time\n *\n * @param {*} config\n */\nexport const handleRequestConfig = async (\n    config: AxiosRequestConfig,\n): Promise<AxiosRequestConfig> => {\n    return {\n        ...config,\n        params: {\n            ...config.params,\n            'apiKey': process.env.REACT_APP_API_KEY,\n        },\n    };\n};\n\n","import axios, {AxiosInstance, AxiosRequestConfig, AxiosResponse, Method} from 'axios';\n\nimport {Omit} from '../../interfaces';\n\nimport {handleRequestConfig, handleResponseErrors} from './utils';\n\nconst TIMEOUT = 5000;\n\n\nexport default class Api {\n    protected api: AxiosInstance;\n\n    constructor() {\n        this.api = axios.create({\n            baseURL: process.env.REACT_APP_API_URL,\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n            },\n            timeout: TIMEOUT,\n        });\n\n        this.api.interceptors.response.use(undefined, handleResponseErrors);\n        this.api.interceptors.request.use(handleRequestConfig);\n    }\n\n    protected request = async <T>(\n        url: string,\n        method: Method = 'GET',\n        data: object | undefined = undefined,\n        params: object | undefined = undefined,\n        config?: Omit<AxiosRequestConfig, 'url' | 'method' | 'data' | 'params' | 'transformResponse'>,\n    ): Promise<T> => {\n        const response = await this.api.request<T, AxiosResponse>({\n            data,\n            method,\n            params,\n            url,\n            ...config,\n        });\n\n        return response.data;\n    };\n\n}\n","import Api from './../api'\nimport {INews, INewsResponse, IPayload} from './types'\n\n\nclass News extends Api {\n    private apiPath: string = '/top-headlines'\n\n    public fetch = async (payload: IPayload): Promise<INews[]> => {\n        const data = await this.request<INewsResponse>(this.apiPath, 'get', undefined, payload);\n        return data.articles\n    }\n}\n\n\nexport default new News()\n","export {default} from './api'\n\nexport * from './types';\n","import React, {FunctionComponent} from 'react'\nimport {INews} from 'services/news'\nimport {Link, useParams} from 'react-router-dom'\n\n\nconst NewsCard: FunctionComponent<INews> = ({title, description, urlToImage, source, content}) => {\n    const {code} = useParams()\n    return <div className=\"max-w-sm rounded overflow-hidden shadow-lg min-h-full flex flex-col justify-between\">\n        <img className=\"w-full h-64 object-cover\" height={200} src={urlToImage} alt={title}/>\n        <div className=\"px-6 py-4\">\n            <div className=\"font-bold text-base mb-2 h-32\">{title}</div>\n            <p className=\"text-gray-700 text-base overflow-hidden h-32\">\n                {description}\n            </p>\n        </div>\n        <div className=\"px-6 py-4 flex flex-row-reverse\">\n            <Link to={{\n                pathname: `/${code}/news/${source.id}`,\n                state: {\n                    title,\n                    urlToImage,\n                    content\n                }\n            }\n            } className=\"cursor-pointer\">\n            <span\n                className=\"block bg-gray-200 rounded-full px-8 py-4 text-sm font-semibold text-gray-700 hover:bg-gray-500\">More</span>\n            </Link>\n        </div>\n    </div>\n}\n\n\nexport default NewsCard\n","export {default} from './news-card'\n","export {default} from './api'\nexport * from './types'\n","import React, {FunctionComponent} from 'react'\nimport NewsCard from 'shared/components/news-card'\nimport {INews} from 'services/news'\n\ninterface INewsList {\n    items: INews[]\n}\n\nconst NewsList: FunctionComponent<INewsList> = ({items}) => {\n    return <div className=\"flex flex-wrap\">\n        {items.map((item, index) => <div key={index} className={'w-full sm:w-1/2 md:w-1/3 mb-4 p-2'}>\n            <NewsCard key={item.source.id}{...item}/>\n        </div>)}\n    </div>\n}\n\n\nexport default NewsList;\n","export {default} from './news-list'\n","import { useEffect } from 'react';\nimport useAsyncFn from './useAsyncFn';\nexport default function useAsync(fn, deps) {\n  if (deps === void 0) {\n    deps = [];\n  }\n\n  var _a = useAsyncFn(fn, deps, {\n    loading: true\n  }),\n      state = _a[0],\n      callback = _a[1];\n\n  useEffect(function () {\n    callback();\n  }, [callback]);\n  return state;\n}"],"sourceRoot":""}