{"version":3,"sources":["shared/components/slider/slider.tsx","screens/categories/screen.tsx","screens/categories/index.ts","services/api/utils.ts","services/api/api.ts","services/news/api.ts","services/api/index.ts","shared/components/news-card/news-card.tsx","shared/components/news-card/index.ts"],"names":["Arrow","props","style","backgroundColor","border","borderRadius","settings","dots","infinite","speed","slidesToShow","draggable","slidesToScroll","centerPadding","nextArrow","prevArrow","responsive","breakpoint","initialSlide","Slider","items","category","code","useParams","className","to","map","item","index","key","pathname","source","id","state","categories","getCategories","a","async","promises","newsApi","fetch","country","pageSize","Promise","all","Screen","useAsync","console","log","loading","value","handleResponseErrors","error","reject","status","statusText","response","data","handleRequestConfig","config","params","process","REACT_APP_API_KEY","Api","api","request","url","method","undefined","this","axios","create","baseURL","headers","Accept","timeout","interceptors","use","News","apiPath","payload","articles","NewsCard","title","description","urlToImage","content","height","src","alt"],"mappings":"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","file":"static/js/8.41d6ef58.chunk.js","sourcesContent":["import React, {FunctionComponent} from 'react'\nimport {Link, useParams} from 'react-router-dom'\nimport ReactSlider from \"react-slick\";\nimport NewsCard from \"../news-card\";\nimport {INews} from 'services/news'\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\n\n\nconst Arrow = (props: any) => {\n    return (\n        <div {...props} style={{backgroundColor: '#37b2ab', border: '1px solid #fff', borderRadius: '100%'}}/>\n    );\n}\n\n\nconst settings = {\n    dots: false,\n    infinite: false,\n    speed: 500,\n    slidesToShow: 3,\n    draggable: false,\n    slidesToScroll: 1,\n    centerPadding: '100px',\n    nextArrow: <Arrow/>,\n    prevArrow: <Arrow/>,\n    // centerMode: true,\n    responsive: [\n        {\n            breakpoint: 1024,\n            settings: {\n                slidesToShow: 3,\n                slidesToScroll: 3,\n                infinite: true,\n                dots: true\n            }\n        },\n        {\n            breakpoint: 600,\n            settings: {\n                slidesToShow: 2,\n                slidesToScroll: 2,\n                initialSlide: 2\n            }\n        },\n        {\n            breakpoint: 480,\n            settings: {\n                slidesToShow: 1,\n                slidesToScroll: 1\n            }\n        }\n    ]\n};\n\ninterface ISlider {\n    items: INews[],\n    category: string\n\n}\n\n\nconst Slider: FunctionComponent<ISlider> = ({items, category}) => {\n    const {code} = useParams()\n\n    return <section>\n        <Link className='cursor-pointer hover:text-teal-300' to={`/${code}/categories/${category}`}>\n            <h1 className='text-2xl capitalize my-5'>{category}</h1>\n        </Link>\n        <ReactSlider {...settings}>\n            {items.map((item, index) => <div key={index} className='h-full p-2'>\n                <Link to={{\n                    pathname: `/${code}/news/${item.source.id}`,\n                    state: item\n                }\n                } className=\"cursor-pointer\">\n                    <NewsCard {...item}/>\n                </Link>\n            </div>)}\n        </ReactSlider>\n    </section>\n}\n\nexport default Slider;\n","import React from 'react'\nimport {useParams} from \"react-router\";\nimport {useAsync} from \"react-use\";\nimport newsApi from \"services/news/api\";\nimport Slider from \"shared/components/slider\";\nimport Loader from \"shared/components/loader\";\n\nconst categories = ['business', 'entertainment', 'general', 'health', 'science', 'sports', 'technology']\nconst PAGE_SIZE = 5;\nconst getCategories = async (code: any) => {\n    const promises = categories.map((category: any) => newsApi.fetch({category, country: code, pageSize: PAGE_SIZE}))\n    return Promise.all(promises)\n}\n\nconst Screen = () => {\n\n    const {code} = useParams()\n    const state = useAsync(async () => {\n        return await getCategories(code);\n    }, [code]);\n\n    console.log('state', state)\n\n\n    return <div className='mb-5 px-12'>\n        <h1 className='sm:text-center md:text-left text-2xl'>Top 5 news by categories from <span\n            className='uppercase'>{code}</span></h1>\n        <div className='border-1 rounded'>\n            {state.loading ? <Loader/> : state.value && state.value.map((items, index) => <Slider key={index}\n                                                                                                  items={items}\n                                                                                                  category={categories[index]}/>)}\n        </div>\n    </div>\n}\n\nexport default Screen;\n","export {default} from './screen'\n","import {AxiosError, AxiosRequestConfig} from 'axios';\nimport {IResponseError} from './types';\n\nexport const handleResponseErrors = (error: AxiosError): Promise<IResponseError> => {\n    if (error.code === 'ECONNABORTED') {\n        return Promise.reject({\n            status: 408,\n            statusText: 'Timeout request',\n        });\n    }\n    return Promise.reject({\n        status: error.response ? error.response.status : 500,\n        statusText: error.response ? error.response.statusText : 'Network Error',\n        ...(error.response && error.response.data ? error.response.data : {}),\n    });\n};\n\n/**\n * @description modify request config each time\n *\n * @param {*} config\n */\nexport const handleRequestConfig = async (\n    config: AxiosRequestConfig,\n): Promise<AxiosRequestConfig> => {\n    return {\n        ...config,\n        params: {\n            ...config.params,\n            'apiKey': process.env.REACT_APP_API_KEY,\n        },\n    };\n};\n\n","import axios, {AxiosInstance, AxiosRequestConfig, AxiosResponse, Method} from 'axios';\n\nimport {Omit} from '../../interfaces';\n\nimport {handleRequestConfig, handleResponseErrors} from './utils';\n\nconst TIMEOUT = 5000;\n\n\nexport default class Api {\n    protected api: AxiosInstance;\n\n    constructor() {\n        this.api = axios.create({\n            baseURL: process.env.REACT_APP_API_URL,\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n            },\n            timeout: TIMEOUT,\n        });\n\n        this.api.interceptors.response.use(undefined, handleResponseErrors);\n        this.api.interceptors.request.use(handleRequestConfig);\n    }\n\n    protected request = async <T>(\n        url: string,\n        method: Method = 'GET',\n        data: object | undefined = undefined,\n        params: object | undefined = undefined,\n        config?: Omit<AxiosRequestConfig, 'url' | 'method' | 'data' | 'params' | 'transformResponse'>,\n    ): Promise<T> => {\n        const response = await this.api.request<T, AxiosResponse>({\n            data,\n            method,\n            params,\n            url,\n            ...config,\n        });\n\n        return response.data;\n    };\n\n}\n","import Api from './../api'\nimport {INews, INewsResponse, IPayload} from './types'\n\n\nclass News extends Api {\n    private apiPath: string = '/top-headlines'\n\n    public fetch = async (payload: IPayload): Promise<INews[]> => {\n        const data = await this.request<INewsResponse>(this.apiPath, 'get', undefined, payload);\n        return data.articles\n    }\n}\n\n\nexport default new News()\n","export {default} from './api'\n\nexport * from './types';\n","import React, {FunctionComponent} from 'react'\nimport {INews} from 'services/news'\nimport {Link, useParams} from 'react-router-dom'\n\n\nconst NewsCard: FunctionComponent<INews> = ({title, description, urlToImage, source, content}) => {\n    const {code} = useParams()\n    return <div className=\"max-w-sm rounded overflow-hidden shadow-lg min-h-full flex flex-col justify-between\">\n        <img className=\"w-full h-64 object-cover\" height={200} src={urlToImage} alt={title}/>\n        <div className=\"px-6 py-4\">\n            <div className=\"font-bold text-base mb-2 h-32\">{title}</div>\n            <p className=\"text-gray-700 text-base overflow-hidden h-32\">\n                {description}\n            </p>\n        </div>\n        <div className=\"px-6 py-4 flex flex-row-reverse\">\n            <Link to={{\n                pathname: `/${code}/news/${source.id}`,\n                state: {\n                    title,\n                    urlToImage,\n                    content\n                }\n            }\n            } className=\"cursor-pointer\">\n            <span\n                className=\"block bg-gray-200 rounded-full px-8 py-4 text-sm font-semibold text-gray-700 hover:bg-gray-500\">More</span>\n            </Link>\n        </div>\n    </div>\n}\n\n\nexport default NewsCard\n","export {default} from './news-card'\n"],"sourceRoot":""}